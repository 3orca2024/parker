<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>BioLab Quiz</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
@import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&family=Orbitron:wght@500&display=swap');

body{
  font-family:'Nunito',sans-serif;
  background: radial-gradient(circle at top, #e8f9ff, #cfe7ff);
  padding:20px;
  max-width:1100px;
  margin:auto;
  transition: background 0.3s;
}

h1{
  font-family:'Orbitron',sans-serif;
  text-align:center;
  font-size:3rem;
  color:#1e3a8a;
}

h2{text-align:center;color:#2563eb;}

#modeBox{text-align:center;margin-bottom:20px;}
#modeBox button{
  margin:8px;padding:12px 20px;font-size:1rem;
  background:linear-gradient(135deg,#7dd3fc,#a5b4fc);
  border:none;border-radius:20px;font-weight:bold;cursor:pointer;
}

#quizBox,#gameBox,#teacherBox,#endBox{
  display:none;background:rgba(255,255,255,.9);
  border-radius:20px;padding:20px;
}

.question{font-size:1.2rem;margin-bottom:10px;}
button.answer{
  display:block;width:100%;margin:8px 0;padding:10px;
  background:linear-gradient(135deg,#a5b4fc,#93c5fd);
  border:none;border-radius:16px;font-weight:bold;cursor:pointer;
}

#overlay{
  position:fixed;top:0;left:0;width:100%;height:100%;
  display:none;z-index:999;
  font-size:3rem;text-align:center;line-height:3.5rem;
  background-size:120px 120px;
}

#score,#coins,#lives{font-weight:bold;}
</style>
</head>

<body>

<div id="overlay"></div>

<h1>BioLab Quiz</h1>
<h2>Choose Your Experiment</h2>

<div id="modeBox">
  <button onclick="startQuiz(25)">25 Questions</button>
  <button onclick="startQuiz(50)">50 Questions</button>
  <button onclick="startQuiz(75)">75 Questions</button>
  <button onclick="startQuiz(100)">100 Questions</button>
  <button onclick="startGame()">Game Mode</button>
</div>

<div id="quizBox">
  <div id="qCount"></div>
  <div class="question" id="question"></div>
  <div id="answers"></div>
  <div id="score">Score: 0</div>
  <div id="coins">Coins: 0</div>
</div>

<div id="gameBox">
  <div id="scoreG">Score: 0</div>
  <div id="coinsG">Coins: 0</div>
  <div id="lives">Lives: 3</div>
  <p id="gameQ"></p>
  <div id="gameAnswers"></div>
</div>

<div id="endBox">
  <h2>Session Complete</h2>
  <p id="finalScore"></p>
  <p id="finalCoins"></p>
  <button onclick="location.reload()">Restart</button>
</div>

<script>
const base = [
["What is a Calorie?","Energy to raise 1kg water 1¬∞C"],
["Main energy source?","Carbohydrates"],
["Helps absorb vitamins?","Fats"],
["Made of amino acids?","Proteins"],
["Regulate body functions?","Vitamins"],
["Inorganic nutrients?","Minerals"],
["Essential for chemical reactions?","Water"],
["Act of eating?","Ingestion"],
["Breakdown of food?","Digestion"],
["Cells take in nutrients?","Absorption"],
["Removal of waste?","Elimination"],
["Physical breakdown?","Mechanical digestion"],
["Enzyme breakdown?","Chemical digestion"],
["Muscle waves?","Peristalsis"],
["Forms chyme?","Stomach"],
["Most absorption?","Small intestine"],
["Fingerlike projections?","Villi"],
["Absorbs water?","Large intestine"],
["Filters blood?","Kidneys"],
["Where filtration occurs?","Nephrons"],
["Carries urine?","Ureter"],
["Stores urine?","Bladder"],
["Removes urine?","Urethra"],
["Removes CO2?","Respiratory system"],
["Secretes sweat?","Integumentary system"]
];

let questions=[];
for(let i=0;i<10;i++) base.forEach(q=>questions.push({q:q[0],a:q[1]}));

let current=0,limit=25,score=0,coins=0,lives=3,session=[];

function shuffle(a){return a.sort(()=>Math.random()-0.5);}

function overlay(symbol){
  const o=document.getElementById("overlay");
  o.style.display="block";
  o.style.background=`repeating-linear-gradient(45deg, transparent, transparent 20px), url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='60' height='60'><text x='10' y='40' font-size='40'>${symbol}</text></svg>")`;
  setTimeout(()=>o.style.display="none",400);
}

function startQuiz(n){
  limit=n;current=0;score=0;coins=0;
  session=shuffle([...questions]).slice(0,limit);
  document.getElementById("modeBox").style.display="none";
  document.getElementById("quizBox").style.display="block";
  showQ();
}

function showQ(){
  if(current>=limit){end();return;}
  document.getElementById("qCount").textContent=`${current+1}/${limit}`;
  const q=session[current];
  document.getElementById("question").textContent=q.q;
  let opts=[q.a];
  while(opts.length<4){
    let r=questions[Math.floor(Math.random()*questions.length)].a;
    if(!opts.includes(r))opts.push(r);
  }
  shuffle(opts);
  const box=document.getElementById("answers");
  box.innerHTML="";
  opts.forEach(o=>{
    let b=document.createElement("button");
    b.className="answer";
    b.textContent=o;
    b.onclick=()=>check(o,q.a);
    box.appendChild(b);
  });
}

function check(sel,ans){
  if(sel===ans){
    score+=10;coins++;overlay("üëç");
  }else{
    score-=5;overlay("üëé");
  }
  document.getElementById("score").textContent="Score: "+score;
  document.getElementById("coins").textContent="Coins: "+coins;
  current++;setTimeout(showQ,400);
}

function startGame(){
  current=0;score=0;coins=0;lives=3;
  session=shuffle([...questions]).slice(0,100);
  document.getElementById("modeBox").style.display="none";
  document.getElementById("gameBox").style.display="block";
  gameQ();
}

function gameQ(){
  if(lives<=0||current>=session.length){end();return;}
  const q=session[current];
  document.getElementById("gameQ").textContent=q.q;
  let opts=[q.a];
  while(opts.length<4){
    let r=questions[Math.floor(Math.random()*questions.length)].a;
    if(!opts.includes(r))opts.push(r);
  }
  shuffle(opts);
  const box=document.getElementById("gameAnswers");
  box.innerHTML="";
  opts.forEach(o=>{
    let b=document.createElement("button");
    b.className="answer";
    b.textContent=o;
    b.onclick=()=>{
      if(o===q.a){score+=10;coins++;overlay("üëç");}
      else{score-=5;lives--;overlay("üëé");}
      document.getElementById("scoreG").textContent="Score: "+score;
      document.getElementById("coinsG").textContent="Coins: "+coins;
      document.getElementById("lives").textContent="Lives: "+lives;
      current++;setTimeout(gameQ,400);
    };
    box.appendChild(b);
  });
}

function end(){
  document.getElementById("quizBox").style.display="none";
  document.getElementById("gameBox").style.display="none";
  document.getElementById("endBox").style.display="block";
  document.getElementById("finalScore").textContent="Final Score: "+score;
  document.getElementById("finalCoins").textContent="Coins Earned: "+coins;
}
</script>
</body>
</html>


